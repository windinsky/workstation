/*! my-project-name 2016-03-11 */
windinsky.define("lib/xss/parser",["lib/xss/util"],function(a,b,c){function d(a){var b=a.indexOf(" ");if(-1===b)var c=a.slice(1,-1);else var c=a.slice(1,b+1);return c=h.trim(c).toLowerCase(),"/"===c[0]&&(c=c.slice(1)),"/"===c[c.length-1]&&(c=c.slice(0,-1)),c}function e(a){return"</"===a.slice(0,2)}function f(a,b,c){"user strict";var f="",g=0,h=!1,i=!1,j=0,k=a.length,l="",m="";for(j=0;k>j;j++){var n=a.charAt(j);if(h===!1){if("<"===n){h=j;continue}}else if(i===!1){if("<"===n){f+=c(a.slice(g,j)),h=j,g=j;continue}if(">"===n){f+=c(a.slice(g,h)),l=a.slice(h,j+1),m=d(l),f+=b(h,f.length,m,l,e(l)),g=j+1,h=!1;continue}if('"'===n||"'"===n){i=n;continue}}else if(n===i){i=!1;continue}}return g<a.length&&(f+=c(a.substr(g))),f}function g(a,b){"user strict";function c(a,c){a=h.trim(a),a=a.replace(i,"").toLowerCase(),a.length<1||e.push(b(a,c||""))}for(var d=0,e=[],f=!1,g=a.length,j=0;g>j;j++){var k,l=a.charAt(j);if(f!==!1||"="!==l)if(f===!1||j!==d||'"'!==l&&"'"!==l)" "!==l||(k=h.trim(a.slice(d,j)),f===!1?c(k):c(f,k),f=!1,d=j+1);else{var m=a.indexOf(l,j+1);if(-1===m)break;k=h.trim(a.slice(d+1,m)),c(f,k),f=!1,j=m,d=j+1}else f=a.slice(d,j),d=j+1}return d<a.length&&(f===!1?c(a.slice(d)):c(f,a.slice(d))),h.trim(e.join(" "))}var h=a("lib/xss/util"),i=/[^a-zA-Z0-9_:\.\-]/gim;b.parseTag=f,b.parseAttr=g});