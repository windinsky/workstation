/*! my-project-name 2016-03-11 */
!function(a){function b(a){EventEmitter.call(this),this.id=a,this._ready=!1}window.EMPTY_FUNC=function(){},console&&console.log||(console.log=EMPTY_FUNC);var c={},d=[],e=[],f=[];b.prototype.isDepend=function(a){return-1!==this.dependents.indexOf(a)},b.prototype.ready=function(){this._ready=!0,this.emit("ready")},b.prototype.undepend=function(a){var b=this.dependents.indexOf(a);-1!==b&&(this.dependents.splice(b,1),0===this.dependents.length&&this.emit("ready"))};for(var g in EventEmitter.prototype)"function"==typeof EventEmitter.prototype[g]&&(b.prototype[g]=EventEmitter.prototype[g]);a.windinsky={use:function(a,b){function d(){e--,e||"function"==typeof b&&setTimeout(function(){b.call(c)},1)}if(a&&("string"==typeof a&&(a=[a]),a.constructor===Array)){for(var e=a.length,f=[],g=0;g<a.length;g++){var h,i=a[g];c[a[g]]?d():(h=windinsky.isLoading(i))?h.once("ready",d):f.push(i)}for(var g=0;g<f.length;g++)windinsky.load(f[g],d)}},isLoading:function(a){for(var b=0;b<e.length;b++){var c=e[b];if(c.id===a)return c}},define:function(a,d,f){function g(){l--,console.log(a+" dependency loaded"),l||setTimeout(function(){console.log(a+" loaded"),e.every(function(b,c){return b.id==a?(e.splice(c,1),!1):!0}),i.emit("ready")},1)}var h={exports:{}};if(!c[a]||!c[a]){var i=windinsky.isLoading(a);if(0===d.length){f&&"function"==typeof f&&f(windinsky.require,h.exports,h),c[a]=h.exports,delete c[a].__loading,c[a].__loaded=!0;for(var j=0;j<e.length;j++){var k=e[j];if(k.id==a){k.emit("ready"),e.splice(j,1);break}}console.log(a+" loaded"),e.every(function(b,c){return b.id==a?(e.splice(c,1),!1):!0})}else{var l=d.length,i=windinsky.isLoading(a);i||(i=new b(a),e.push(i)),i.once("ready",function(){f(windinsky.require,h.exports,h),c[a]=h.exports,delete c[a].__loading,c[a].__loaded=!0}),d.forEach(function(a){windinsky.load(a,g)})}}},_load:function(a,b){var c=document.createElement("script"),d=document.head||document.getElementsByTagName("head")[0]||document.documentElement;c.async="async",c.defer="defer",c.onerror=c.onload=c.onreadystatechange=function(){var a=c.readyState;a&&"loaded"!=a&&"complete"!=a||(c.onerror=c.onload=c.onreadystatechange=null,d.removeChild(c))},d.appendChild(c),c.src=windinsky.cfg.JS_PATH+a+(b?"":".js")+"?"+windinsky.cfg.VERSION_NUMBER},loadCss:function(a){if(-1===d.indexOf(a)){var b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("rev","stylesheet");var c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;c.appendChild(b),b.setAttribute("href",windinsky.cfg.CSS_PATH+a+".css"),d.push(a)}},load:function(a,d){var g;return(g=windinsky.isLoading(a))?g.once("ready",d):c[a]&&c[a].__loaded?d():(g=new b(a),g.once("ready",d),e.push(g),void f.push(setTimeout(function(){windinsky._load(a)},1)))},packLoad:function(){f.forEach(function(a){clearTimeout(a)});var a=e.map(function(a){return a.id.replace(/\//g,"+")}).join(",");windinsky._load(a,!0)},require:function(a){return c[a]}}}(window);